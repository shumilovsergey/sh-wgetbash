{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>{% block title %}WgetBash{% endblock %}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" type="image/svg+xml" href="{% static 'icon.png' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body style="margin: 0; padding: 0; min-height: 100vh; background: #ffffff; color: #0f172a; overflow-x: hidden;">
    <style>
    /* Global overflow and layout fixes */
    * {
        box-sizing: border-box;
    }
    
    html, body {
        margin: 0 !important;
        padding: 0 !important;
        overflow-x: hidden !important;
        background: #ffffff !important;
        color: #0f172a !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    </style>
    
    {% if request.session.auth %}
    
    <!-- Simplified Navigation Header -->
    <div style="width: calc(100% - 32px); background: #ffffff; border: 2px solid #e2e8f0; border-radius: 4px; box-shadow: 0 2px 0 rgba(0, 0, 0, 0.1); padding: 16px 32px; margin: 16px; margin-bottom: 32px;">
        <div style="display: flex; align-items: center; justify-content: space-between; max-width: 1200px; margin: 0 auto;">
            
            <!-- User Name -->
            <form action="{% url 'api:main' %}" method="GET">
                <button style="background: #ffffff; color: #475569; border: 2px solid #e2e8f0; padding: 8px 16px; border-radius: 4px; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.1s ease-out; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);"
                        type="submit"
                        onmouseover="this.style.background='#f1f5f9'; this.style.color='#0f172a'; this.style.borderColor='#cbd5e1'; this.style.boxShadow='0 2px 0 rgba(0, 0, 0, 0.1)';"
                        onmouseout="this.style.background='#ffffff'; this.style.color='#475569'; this.style.borderColor='#e2e8f0'; this.style.boxShadow='0 1px 0 rgba(0, 0, 0, 0.05)';">
                    {{request.session.name}}
                </button>
            </form>

            <div style="display: flex; gap: 8px;">
                <!-- Info Button -->
                <form action="{% url 'api:info' %}" method="GET">
                    <button style="background: #ffffff; color: #475569; border: 2px solid #e2e8f0; padding: 8px 16px; border-radius: 4px; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.1s ease-out; display: flex; align-items: center; gap: 8px; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);"
                            type="submit"
                            title="Информация"
                            onmouseover="this.style.background='#f1f5f9'; this.style.color='#0f172a'; this.style.borderColor='#cbd5e1'; this.style.boxShadow='0 2px 0 rgba(0, 0, 0, 0.1)';"
                            onmouseout="this.style.background='#ffffff'; this.style.color='#475569'; this.style.borderColor='#e2e8f0'; this.style.boxShadow='0 1px 0 rgba(0, 0, 0, 0.05)';">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 16px; height: 16px;">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Инструкция
                    </button>
                </form>

                <!-- Logout Button -->
                <form action="{% url 'api:logout' %}" method="GET">
                    <button style="background: #ffffff; color: #475569; border: 2px solid #e2e8f0; padding: 8px 16px; border-radius: 4px; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.1s ease-out; display: flex; align-items: center; gap: 8px; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);"
                            type="submit"
                            onmouseover="this.style.background='#f1f5f9'; this.style.color='#0f172a'; this.style.borderColor='#cbd5e1'; this.style.boxShadow='0 2px 0 rgba(0, 0, 0, 0.1)';"
                            onmouseout="this.style.background='#ffffff'; this.style.color='#475569'; this.style.borderColor='#e2e8f0'; this.style.boxShadow='0 1px 0 rgba(0, 0, 0, 0.05)';">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 16px; height: 16px;">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                        Выход
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Main Content Area -->
    {% block content %}{% endblock %}
    <script src="{% static 'js/app.js' %}"></script>
</body>
</html>